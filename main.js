const productList = [
    {
        groupId: 'BUN',
        groupItem: [
            {
                id: 'BUN01',
                type: ['Bún'],
                name: 'Bún tươi',
                image: '/bun-oc-chay/assets/product-bun.jpg',
                brand: '',
                unit: '/500g',
                price: 25000,
                saleOff: 0
            },
            {
                id: 'BUN02',
                type: ['Bún'],
                name: 'Bún gạo lứt',
                image: '/bun-oc-chay/assets/product-bun-gao-lut.jpg',
                brand: '',
                unit: '/500g',
                price: 32000,
                saleOff: 0
            },
            {
                id: 'BUN03',
                type: ['Bún'],
                name: 'Bún hiệu 3 Cây Tre',
                image: '/bun-oc-chay/assets/product-bun-3-cay-tre.jfif',
                brand: '3 Cây Tre',
                unit: '/500g',
                price: 28500,
                saleOff: 0
            }
        ]
    },
    {
        groupId: 'HANHTAY',
        groupItem: [
            {
                id: 'HANHTAY01',
                type: ['nông sản', 'rau/củ/quả', 'hành tây'],
                name: 'Hành tây Đà Lạt',
                image: '/bun-oc-chay/assets/hanh-tay.jpg',
                brand: '',
                unit: '/200g',
                price: 15000,
                saleOff: 0
            },
            {
                id: 'HANHTAY02',
                type: ['nông sản', 'rau/củ/quả', 'hành tây'],
                name: 'Hành tây Nhà tôi',
                image: '/bun-oc-chay/assets/hanh-tay-02.jpg',
                brand: '',
                unit: '/200g',
                price: 22000,
                saleOff: 0
            },
            {
                id: 'HANHTAY03',
                type: ['nông sản', 'rau/củ/quả', 'hành tây'],
                name: 'Hành tây Tâm Đức',
                image: '/bun-oc-chay/assets/hanh-tay-03.jpg',
                brand: '',
                unit: '/200g',
                price: 24000,
                saleOff: 0
            }
        ]
    },
    {
        groupId: 'BAP',
        groupItem: [
            {
                id: 'BAP01',
                type: ['nông sản', 'rau/củ/quả', 'bắp'],
                name: 'Bắp ngọt',
                image: '/bun-oc-chay/assets/bap-01.jpg',
                brand: '',
                unit: '/kg',
                price: 16000,
                saleOff: 0
            },
            {
                id: 'BAP02',
                type: ['nông sản', 'rau/củ/quả', 'bắp'],
                name: 'Bắp Nhà tôi',
                image: '/bun-oc-chay/assets/bap-02.jpg',
                brand: '',
                unit: '/kg',
                price: 21500,
                saleOff: 0
            },
            {
                id: 'BAP03',
                type: ['nông sản', 'rau/củ/quả', 'bắp'],
                name: 'Bắp Siêu thị',
                image: '/bun-oc-chay/assets/bap-03.png',
                brand: '',
                unit: '/kg',
                price: 44000,
                saleOff: 0
            }
        ]
    },
    {
        groupId: 'NAMSO',
        groupItem: [
            {
                id: 'NAMSO01',
                type: ['nông sản', 'nấm'],
                name: 'Nấm sò',
                image: '/bun-oc-chay/assets/nam-so-01.jpg',
                brand: '',
                unit: '/kg',
                price: 65000,
                saleOff: 0
            },
            {
                id: 'NAMSO02',
                type: ['nông sản', 'nấm'],
                name: 'Nấm sò đẹp',
                image: '/bun-oc-chay/assets/nam-so-02.jfif',
                brand: '',
                unit: '/kg',
                price: 70000,
                saleOff: 0
            },
            {
                id: 'NAMSO03',
                type: ['nông sản', 'nấm'],
                name: 'Nấm sò',
                image: '/bun-oc-chay/assets/nam-so-03.jpg',
                brand: '',
                unit: '/kg',
                price: 55000,
                saleOff: 0
            }
        ]
    },
    {
        groupId: 'CACHUA',
        groupItem: [
            {
                id: 'CACHUA01',
                type: ['nông sản', 'rau/củ/quả', 'cà chua'],
                name: 'Cà chua chín',
                image: '/bun-oc-chay/assets/ca-chua-01.jpg',
                brand: '',
                unit: '/kg',
                price: 32000,
                saleOff: 0
            },
            {
                id: 'CACHUA02',
                type: ['nông sản', 'rau/củ/quả', 'cà chua'],
                name: 'Cà chua Đà Lạt',
                image: '/bun-oc-chay/assets/ca-chua-02.jpg',
                brand: '',
                unit: '/kg',
                price: 45000,
                saleOff: 0
            },
            {
                id: 'CACHUA03',
                type: ['nông sản', 'rau/củ/quả', 'cà chua'],
                name: 'Cà chua BHX',
                image: '/bun-oc-chay/assets/ca-chua-03.png',
                brand: '',
                unit: '/kg',
                price: 39500,
                saleOff: 0
            }
        ]
    },
    {
        groupId: 'NAMHUONGKHO',
        groupItem: [
            {
                id: 'NAMHUONGKHO01',
                type: ['nông sản', 'nấm'],
                name: 'Nấm hương khô',
                image: '/bun-oc-chay/assets/nam-huong-kho-01.jfif',
                brand: '',
                unit: '/200g',
                price: 18000,
                saleOff: 0
            },
            {
                id: 'NAMHUONGKHO02',
                type: ['nông sản', 'nấm'],
                name: 'Nấm hương khô',
                image: '/bun-oc-chay/assets/nam-huong-kho-02.jpg',
                brand: '',
                unit: '/bịch 150g',
                price: 21000,
                saleOff: 0
            },
            {
                id: 'NAMHUONGKHO03',
                type: ['nông sản', 'nấm'],
                name: 'Nấm hương khô',
                image: '/bun-oc-chay/assets/nam-huong-kho-03.jfif',
                brand: '',
                unit: '/bịch 300g',
                price: 27000,
                saleOff: 0
            }
        ]
    },
    {
        groupId: 'HANHKHO',
        groupItem: [
            {
                id: 'HANHKHO01',
                type: ['nông sản', 'rau/củ/quả', 'hành'],
                name: 'Hành khô',
                image: '/bun-oc-chay/assets/hanh-kho-01.webp',
                brand: '',
                unit: '/500g',
                price: 19000,
                saleOff: 0
            },
            {
                id: 'HANHKHO02',
                type: ['nông sản', 'rau/củ/quả', 'hành'],
                name: 'Hành khô',
                image: '/bun-oc-chay/assets/hanh-kho-02.jfif',
                brand: '',
                unit: '/500g',
                price: 23000,
                saleOff: 0
            },
            {
                id: 'HANHKHO03',
                type: ['nông sản', 'rau/củ/quả', 'hành'],
                name: 'Hành khô',
                image: '/bun-oc-chay/assets/hanh-kho-03.jpg',
                brand: '',
                unit: '/500g',
                price: 31000,
                saleOff: 0
            }
        ]
    },
    {
        groupId: 'NUOCTUONG',
        groupItem: [
            {
                id: 'NUOCTUONG01',
                type: ['nước tương', 'gia vị'],
                name: 'Nước tương',
                image: '/bun-oc-chay/assets/nuoc-tuong.jpg',
                brand: 'Chinsu',
                unit: '/chai 500ml',
                price: 35000,
                saleOff: 0
            },
            {
                id: 'NUOCTUONG02',
                type: ['nước tương', 'gia vị'],
                name: 'Nước tương Tamari',
                image: '/bun-oc-chay/assets/nuoc-tuong-02.jpg',
                brand: 'Tamari Nhật',
                unit: '/chai 500ml',
                price: 89000,
                saleOff: 0
            },
            {
                id: 'NUOCTUONG03',
                type: ['nước tương', 'gia vị'],
                name: 'Nước tương',
                image: '/bun-oc-chay/assets/nuoc-tuong-03.jfif',
                brand: '',
                unit: '/chai 500ml',
                price: 43000,
                saleOff: 0
            }
        ]
    },
    {
        groupId: 'MUOI',
        groupItem: [
            {
                id: 'MUOI01',
                type: ['gia vị', 'muối'],
                name: 'Muối biển',
                image: '/bun-oc-chay/assets/muoi-01.jpg',
                brand: '',
                unit: '/kg',
                price: 16000,
                saleOff: 0
            },
            {
                id: 'MUOI02',
                type: ['gia vị', 'muối'],
                name: 'Muối hồng',
                image: '/bun-oc-chay/assets/muoi-02.jfif',
                brand: 'Hymalaya',
                unit: '/kg',
                price: 75000,
                saleOff: 0
            },
            {
                id: 'MUOI03',
                type: ['gia vị', 'muối'],
                name: 'Muối hồng bịch',
                image: '/bun-oc-chay/assets/muoi-03.jpg',
                brand: '',
                unit: '/kg',
                price: 67000,
                saleOff: 0
            }
        ]
    },
    {
        groupId: 'DAUAN',
        groupItem: [
            {
                id: 'DAUAN01',
                type: ['dầu ăn'],
                name: 'Dầu ăn',
                image: '/bun-oc-chay/assets/dau-an-01.webp',
                brand: 'Chinsu',
                unit: '/chai 750ml',
                price: 77000,
                saleOff: 0
            },
            {
                id: 'DAUAN02',
                type: ['dầu ăn'],
                name: 'Dầu Oliu',
                image: '/bun-oc-chay/assets/dau-an-02.webp',
                brand: 'Canada',
                unit: '/chai 750ml',
                price: 188000,
                saleOff: 0
            },
            {
                id: 'DAUAN03',
                type: ['dầu ăn'],
                image: '/bun-oc-chay/assets/dau-an-03.jpg',
                name: 'Dầu ăn',
                brand: '',
                unit: '/chai 750ml',
                price: 86000,
                saleOff: 0
            }
        ]
    },
    {
        groupId: 'ME',
        groupItem: [
            {
                id: 'ME01',
                type: ['nông sản', 'rau/củ/quả', 'me'],
                name: 'Me',
                image: '/bun-oc-chay/assets/me-01.jpg',
                brand: '',
                unit: '/500g',
                price: 29000,
                saleOff: 0
            },
            {
                id: 'ME02',
                type: ['nông sản', 'rau/củ/quả', 'me'],
                name: 'Me',
                image: '/bun-oc-chay/assets/me.02.jpg',
                brand: '',
                unit: '/500g',
                price: 30000,
                saleOff: 0
            },
            {
                id: 'ME03',
                type: ['nông sản', 'rau/củ/quả', 'me'],
                name: 'Me hộp',
                image: '/bun-oc-chay/assets/me-03.jpg',
                brand: '',
                unit: '/hộp 100g',
                price: 12000,
                saleOff: 0
            }
        ]
    },
    {
        groupId: 'OCCHAY',
        groupItem: [
            {
                id: 'OCHAY01',
                type: ['giả mặn'],
                name: 'Ốc chay',
                image: '/bun-oc-chay/assets/oc-chay.jfif',
                brand: '',
                unit: '/bịch 1kg',
                price: 56000,
                saleOff: 0
            },
            {
                id: 'OCCHAY02',
                type: ['giả mặn'],
                name: 'Ốc chay',
                image: '/bun-oc-chay/assets/oc-chay-02.jpg',
                brand: '',
                unit: '/bịch 1kg',
                price: 66000,
                saleOff: 0
            },
            {
                id: 'OCCHAY03',
                type: ['giả mặn'],
                name: 'Ốc chay',
                image: '/bun-oc-chay/assets/oc-chay-03.webp',
                brand: '',
                unit: '/bịch 1kg',
                price: 60000,
                saleOff: 0
            }
        ]
    },
    {
        groupId: 'DAUPHU',
        groupItem: [
            {
                id: 'DAUPHU01',
                type: ['đậu hũ'],
                name: 'Đậu hũ trắng',
                image: '/bun-oc-chay/assets/dau-phu.jpg',
                brand: '',
                unit: '/5 miếng',
                price: 25000,
                saleOff: 0
            },
            {
                id: 'DAUPHU02',
                type: ['đậu hũ'],
                name: 'Đậu hũ chiên',
                image: '/bun-oc-chay/assets/dau-phu-02.jpg',
                brand: '',
                unit: '/5 miếng',
                price: 32000,
                saleOff: 0
            },
            {
                id: 'DAUPHU03',
                type: ['đậu hũ'],
                name: 'Đậu hũ hộp',
                image: '/bun-oc-chay/assets/dau-phu-03.jfif',
                brand: '',
                unit: '/hộp 2 miếng',
                price: 9500,
                saleOff: 0
            }
        ]
    },
    {
        groupId: 'TOPPING',
        groupItem: [
            {
                id: 'TOPPING01',
                type: ['đậu hũ'],
                name: 'Tàu hũ ky',
                image: '/bun-oc-chay/assets/do-an-them.jpg',
                brand: '',
                unit: '/500g',
                price: 25000,
                saleOff: 0
            },
            {
                id: 'TOPPING02',
                type: ['chả'],
                name: 'Chả chay',
                image: '/bun-oc-chay/assets/do-an-them-02.jpg',
                brand: '',
                unit: '/500g',
                price: 49500,
                saleOff: 0
            },
            {
                id: 'TOPPING03',
                type: ['giả mặn'],
                name: 'Bò viên chay',
                image: '/bun-oc-chay/assets/do-an-them-03.jpg',
                brand: '',
                unit: '/bịch 1kg',
                price: 71000,
                saleOff: 0
            }
        ]
    },
    {
        groupId: 'RAUSONG',
        groupItem: [
            {
                id: 'RAUSONG01',
                type: ['nông sản', 'rau/củ/quả'],
                name: 'Combo Rau sống 1',
                image: '/bun-oc-chay/assets/rau-song-01.jpg',
                brand: '',
                unit: '/500g',
                price: 35000,
                saleOff: 0
            },
            {
                id: 'RAUSONG02',
                type: ['nông sản', 'rau/củ/quả'],
                name: 'Combo Rau sống 2',
                image: '/bun-oc-chay/assets/rau-song-02.jfif',
                brand: '',
                unit: '/500g',
                price: 50000,
                saleOff: 0
            },
            {
                id: 'RAUSONG03',
                type: ['nông sản', 'rau/củ/quả'],
                name: 'Combo Rau sống 3',
                image: '/bun-oc-chay/assets/rau-song-03.png',
                brand: '',
                unit: '/500g',
                price: 38000,
                saleOff: 0
            }
        ]
    }
];

// Lưu giỏ hàng vào localStorage
function saveCartToLocalStorage(object) {
    localStorage.setItem('cart', JSON.stringify(object));
}

// Tải giỏ hàng từ localStorage
function loadCartFromLocalStorage() {
    const cartString = localStorage.getItem('cart');
    if (cartString) {
        return JSON.parse(cartString);
    } else {
        return [];
    }
}

// Thêm sản phẩm vào giỏ hàng khi click chuột
function addProductToCart(productId) {
    const cart = loadCartFromLocalStorage();
    const groupId = productId.slice(0, productId.length - 2);
    const i = productList.findIndex((group) => group.groupId === groupId);

    const cartItem = cart.find((item) => item.id === productId);
    if (cartItem) {
        cartItem.quantity++;
    } else {
        const productItem = productList[i].groupItem.find((item) => item.id === productId);
        cart.push({ ...productItem, quantity: 1 });
    }
    saveCartToLocalStorage(cart); //Save giỏ hàng vào localStorage

    renderAllCart();
}

// Tính toán

const sumQuantityInCart = () => loadCartFromLocalStorage().reduce((sum, item) => (sum += item.quantity), 0);

const sumMoneyOfCart = () => loadCartFromLocalStorage().reduce((sum, item) => (sum += item.price * item.quantity), 0);



